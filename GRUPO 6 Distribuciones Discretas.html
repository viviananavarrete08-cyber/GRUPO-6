<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRUPO 6 Distribuciones Discretas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .grupo-info {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .grupo-info h3 {
            margin-bottom: 10px;
        }

        .integrantes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 10px;
            font-size: 0.9em;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .tab-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card h3 {
            color: #764ba2;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .formula {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 20px;
            border-radius: 10px;
            font-size: 1.3em;
            text-align: center;
            margin: 15px 0;
            font-weight: bold;
        }

        .caracteristicas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .caracteristica-item {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .caracteristica-item strong {
            display: block;
            color: #764ba2;
            margin-bottom: 5px;
        }

        .calculadora {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .input-group {
            margin: 15px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1em;
        }

        .btn-calcular {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            margin-top: 15px;
            transition: all 0.3s;
        }

        .btn-calcular:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .resultado {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
        }

        .resultado.show {
            display: block;
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .resolucion-paso {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .interpretacion {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
        }

        .quiz-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .quiz-question {
            display: none;
        }

        .quiz-question.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }

        .quiz-option {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .quiz-option:hover {
            background: #e0e0e0;
            transform: translateX(5px);
        }

        .quiz-option.selected {
            border-color: #667eea;
            background: #e8eeff;
        }

        .quiz-option.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .quiz-option.incorrect {
            border-color: #f44336;
            background: #ffebee;
        }

        .justificacion {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
        }

        .justificacion.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        .quiz-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .btn-quiz {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-quiz:hover {
            transform: scale(1.05);
        }

        .btn-quiz:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .quiz-progress {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
        }

        .tabla-comparativa {
            overflow-x: auto;
        }

        .tabla-comparativa table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .tabla-comparativa th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
        }

        .tabla-comparativa td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .tabla-comparativa tr:nth-child(even) {
            background: #f9f9f9;
        }

        .icon {
            font-size: 1.5em;
        }

        .ejemplo-practico {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .ejemplo-practico h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .score-final {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5em;
            display: none;
        }

        .score-final.show {
            display: block;
            animation: bounceIn 0.8s;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }

        .bibliografia {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .bibliografia h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .bibliografia ul {
            list-style: none;
            padding-left: 0;
        }

        .bibliografia li {
            padding: 15px;
            margin: 10px 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            border-left: 4px solid #667eea;
            line-height: 1.6;
        }

        .bibliografia li strong {
            color: #333;
            display: block;
            margin-bottom: 5px;
        }

        .bibliografia a {
            display: inline-block;
            margin-top: 8px;
            font-weight: 500;
        }

        .bibliografia a:hover {
            text-decoration: underline;
        }

        .ejemplo-interactivo {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .tipo-distribucion {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 Distribuciones Discretas</h1>
            <p style="font-size: 1.1em; color: #666; margin-bottom: 10px;">Explora las tres distribuciones principales (Binomial, Poisson e Hipergeométrica) de forma interactiva</p>
            
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin: 15px 0;">
                <p style="margin: 5px 0; font-size: 0.95em;"><strong>Universidad de Guayaquil</strong></p>
                <p style="margin: 5px 0; font-size: 0.9em;">Estadística II | GRUPO #6 | PARALELO CAU-S-MA-4-2</p>
                <p style="margin: 5px 0; font-size: 0.9em;">Docente: <strong>Ing. Ingrid Sarmiento Torres, MPC</strong></p>
            </div>
            
            <div class="grupo-info">
                <h3>👥 GRUPO 6</h3>
                <div class="integrantes">
                    <div>🎓 García Veliz Mabel Slendy</div>
                    <div>🎓 Navarrete Cedeño Viviana Carmelina</div>
                    <div>🎓 Rivas León Andrea Valeria</div>
                    <div>🎓 Valencia Antepara Angel Gabriel</div>
                </div>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('binomial')">🎲 Binomial</button>
            <button class="tab-btn" onclick="showTab('poisson')">⏰ Poisson</button>
            <button class="tab-btn" onclick="showTab('hipergeometrica')">🎯 Hipergeométrica</button>
            <button class="tab-btn" onclick="showTab('quiz')">📝 Quiz</button>
            <button class="tab-btn" onclick="showTab('comparativa')">📊 Comparación</button>
        </div>

        <!-- SECCIÓN BINOMIAL -->
        <div id="binomial" class="content-section active">
            <div class="card">
                <h2><span class="icon">🎲</span> Distribución Binomial</h2>
                <p><strong>Concepto:</strong> La distribución binomial es un modelo probabilístico discreto que describe el número de éxitos en una secuencia de ensayos independientes e idénticos, donde cada ensayo tiene únicamente dos resultados posibles (éxito o fracaso) y la probabilidad de éxito permanece constante en todas las repeticiones. Este modelo es fundamental en el análisis de experimentos donde se realizan múltiples intentos bajo las mismas condiciones, permitiendo predecir la probabilidad de obtener un número específico de resultados favorables.</p>
                
                <div class="formula">
                    P(X = k) = C(n,k) × p^k × (1-p)^(n-k)
                </div>

                <h3>Características</h3>
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <strong>Ensayos</strong>
                        n experimentos independientes
                    </div>
                    <div class="caracteristica-item">
                        <strong>Resultados</strong>
                        Éxito o Fracaso
                    </div>
                    <div class="caracteristica-item">
                        <strong>Probabilidad</strong>
                        Constante en cada ensayo
                    </div>
                    <div class="caracteristica-item">
                        <strong>Muestreo</strong>
                        Con reemplazo
                    </div>
                </div>

                <h3>Parámetros y Medidas</h3>
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <strong>Parámetros</strong>
                        n (ensayos), p (probabilidad)
                    </div>
                    <div class="caracteristica-item">
                        <strong>Media</strong>
                        μ = n × p
                    </div>
                    <div class="caracteristica-item">
                        <strong>Varianza</strong>
                        σ² = n × p × (1-p)
                    </div>
                </div>

                <h3>Aplicaciones</h3>
                <p>✓ Control de calidad en producción<br>
                ✓ Encuestas de opinión<br>
                ✓ Estudios médicos (éxito/fracaso tratamiento)<br>
                ✓ Pruebas de productos</p>
            </div>

            <!-- Ejemplo Interactivo Binomial -->
            <div class="card">
                <h2>📚 Ejemplo Práctico</h2>
                <div class="ejemplo-practico">
                    <h4>Control de Calidad en Manufactura</h4>
                    <p>Una fábrica produce tornillos con 5% de defectuosos. Se inspeccionan 20 tornillos al azar. ¿Cuál es la probabilidad de encontrar exactamente 2 defectuosos?</p>
                </div>
                
                <div class="calculadora">
                    <h3 style="color: #333; margin-bottom: 15px;">🧮 Calculadora Interactiva</h3>
                    <div class="input-group">
                        <label>Número de ensayos (n):</label>
                        <input type="number" id="bin_n" value="20" min="1">
                    </div>
                    <div class="input-group">
                        <label>Número de éxitos deseados (k):</label>
                        <input type="number" id="bin_k" value="2" min="0">
                    </div>
                    <div class="input-group">
                        <label>Probabilidad de éxito (p):</label>
                        <input type="number" id="bin_p" value="0.05" min="0" max="1" step="0.01">
                    </div>
                    <button class="btn-calcular" onclick="calcularBinomial()">Calcular Probabilidad</button>
                    <div id="resultado_binomial" class="resultado"></div>
                </div>
            </div>
        </div>

        <!-- SECCIÓN POISSON -->
        <div id="poisson" class="content-section">
            <div class="card">
                <h2><span class="icon">⏰</span> Distribución de Poisson</h2>
                <p><strong>Concepto:</strong> La distribución de Poisson es un modelo probabilístico discreto que describe el número de eventos que ocurren en un intervalo fijo de tiempo o espacio, cuando estos eventos suceden de manera independiente y con una tasa promedio constante conocida. Se caracteriza por modelar fenómenos raros o poco frecuentes, donde la probabilidad de que ocurra más de un evento simultáneamente es prácticamente nula. Esta distribución es especialmente útil para analizar situaciones donde se cuenta el número de ocurrencias de un evento aleatorio en un período determinado, como llegadas de clientes, llamadas telefónicas, o defectos en materiales.</p>
                
                <div class="formula">
                    P(X = k) = (λ^k × e^(-λ)) / k!
                </div>

                <h3>Características</h3>
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <strong>Ensayos</strong>
                        Eventos en intervalo continuo
                    </div>
                    <div class="caracteristica-item">
                        <strong>Resultados</strong>
                        Número de ocurrencias
                    </div>
                    <div class="caracteristica-item">
                        <strong>Probabilidad</strong>
                        Tasa constante (λ)
                    </div>
                    <div class="caracteristica-item">
                        <strong>Muestreo</strong>
                        No aplica directamente
                    </div>
                </div>

                <h3>Parámetros y Medidas</h3>
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <strong>Parámetros</strong>
                        λ (tasa promedio)
                    </div>
                    <div class="caracteristica-item">
                        <strong>Media</strong>
                        μ = λ
                    </div>
                    <div class="caracteristica-item">
                        <strong>Varianza</strong>
                        σ² = λ
                    </div>
                </div>

                <h3>Aplicaciones</h3>
                <p>✓ Llamadas telefónicas por hora<br>
                ✓ Accidentes en carretera<br>
                ✓ Errores de impresión por página<br>
                ✓ Llegadas de clientes</p>
            </div>

            <!-- Ejemplo Interactivo Poisson -->
            <div class="card">
                <h2>📚 Ejemplo Práctico</h2>
                <div class="ejemplo-practico">
                    <h4>Llamadas a Centro de Atención</h4>
                    <p>Un centro de atención recibe en promedio 3 llamadas por minuto. ¿Cuál es la probabilidad de recibir exactamente 5 llamadas en un minuto?</p>
                </div>
                
                <div class="calculadora">
                    <h3 style="color: #333; margin-bottom: 15px;">🧮 Calculadora Interactiva</h3>
                    <div class="input-group">
                        <label>Tasa promedio (λ):</label>
                        <input type="number" id="poi_lambda" value="3" min="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Número de eventos (k):</label>
                        <input type="number" id="poi_k" value="5" min="0">
                    </div>
                    <button class="btn-calcular" onclick="calcularPoisson()">Calcular Probabilidad</button>
                    <div id="resultado_poisson" class="resultado"></div>
                </div>
            </div>
        </div>

        <!-- SECCIÓN HIPERGEOMÉTRICA -->
        <div id="hipergeometrica" class="content-section">
            <div class="card">
                <h2><span class="icon">🎯</span> Distribución Hipergeométrica</h2>
                <p><strong>Concepto:</strong> La distribución hipergeométrica es un modelo probabilístico discreto que describe el número de éxitos al extraer una muestra de tamaño fijo sin reemplazo de una población finita que contiene exactamente dos tipos de elementos (éxitos y fracasos). A diferencia de la distribución binomial, la probabilidad de éxito cambia en cada extracción, ya que los elementos no se devuelven a la población después de ser seleccionados. Este modelo es fundamental en situaciones de muestreo donde la población es relativamente pequeña y cada extracción afecta la composición de la población restante, siendo ampliamente utilizado en control de calidad por lotes, auditorías y estudios de muestreo finito.</p>
                
                <div class="formula">
                    P(X = k) = [C(K,k) × C(N-K,n-k)] / C(N,n)
                </div>

                <h3>Características</h3>
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <strong>Ensayos</strong>
                        n extracciones sin reemplazo
                    </div>
                    <div class="caracteristica-item">
                        <strong>Resultados</strong>
                        Éxitos en la muestra
                    </div>
                    <div class="caracteristica-item">
                        <strong>Probabilidad</strong>
                        Cambia en cada extracción
                    </div>
                    <div class="caracteristica-item">
                        <strong>Muestreo</strong>
                        Sin reemplazo
                    </div>
                </div>

                <h3>Parámetros y Medidas</h3>
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <strong>Parámetros</strong>
                        N, K, n
                    </div>
                    <div class="caracteristica-item">
                        <strong>Media</strong>
                        μ = n × (K/N)
                    </div>
                    <div class="caracteristica-item">
                        <strong>Varianza</strong>
                        σ² = n×(K/N)×(1-K/N)×(N-n)/(N-1)
                    </div>
                </div>

                <h3>Aplicaciones</h3>
                <p>✓ Control de calidad por lotes<br>
                ✓ Auditorías de inventario<br>
                ✓ Lotería y juegos de azar<br>
                ✓ Muestreo de poblaciones pequeñas</p>
            </div>

            <!-- Ejemplo Interactivo Hipergeométrica -->
            <div class="card">
                <h2>📚 Ejemplo Práctico</h2>
                <div class="ejemplo-practico">
                    <h4>Lotería de Números</h4>
                    <p>En una caja hay 50 bolas: 10 rojas y 40 azules. Se extraen 5 bolas sin reemplazo. ¿Cuál es la probabilidad de obtener exactamente 2 bolas rojas?</p>
                </div>
                
                <div class="calculadora">
                    <h3 style="color: #333; margin-bottom: 15px;">🧮 Calculadora Interactiva</h3>
                    <div class="input-group">
                        <label>Tamaño población (N):</label>
                        <input type="number" id="hip_N" value="50" min="1">
                    </div>
                    <div class="input-group">
                        <label>Éxitos en población (K):</label>
                        <input type="number" id="hip_K" value="10" min="0">
                    </div>
                    <div class="input-group">
                        <label>Tamaño muestra (n):</label>
                        <input type="number" id="hip_n" value="5" min="1">
                    </div>
                    <div class="input-group">
                        <label>Éxitos deseados (k):</label>
                        <input type="number" id="hip_k" value="2" min="0">
                    </div>
                    <button class="btn-calcular" onclick="calcularHipergeometrica()">Calcular Probabilidad</button>
                    <div id="resultado_hipergeometrica" class="resultado"></div>
                </div>
            </div>
        </div>

        <!-- SECCIÓN QUIZ -->
        <div id="quiz" class="content-section">
            <div class="quiz-container">
                <h2 style="text-align: center; color: #667eea; margin-bottom: 20px;">🎯 Quiz de Preguntas</h2>
                <div class="quiz-progress" id="quiz-progress">Pregunta 1 de 5</div>
                
                <div id="quiz-questions"></div>
                
                <div class="quiz-nav">
                    <button class="btn-quiz" id="btn-verificar" onclick="verificarRespuesta()">Verificar Respuesta</button>
                    <button class="btn-quiz" id="btn-siguiente" onclick="siguientePregunta()" style="display: none;">Siguiente Pregunta</button>
                </div>

                <div class="score-final" id="score-final"></div>
            </div>

            <div class="card">
                <h2>📝 Ejemplos Prácticos</h2>
                <div id="ejemplos-practicos"></div>
            </div>
        </div>

        <!-- SECCIÓN COMPARATIVA -->
        <div id="comparativa" class="content-section">
            <div class="card">
                <h2>📊 Tabla Comparativa</h2>
                <div class="tabla-comparativa">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspecto</th>
                                <th>Binomial</th>
                                <th>Poisson</th>
                                <th>Hipergeométrica</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Tipo de Experimento</strong></td>
                                <td>n ensayos independientes</td>
                                <td>Eventos en intervalo</td>
                                <td>Muestra sin reemplazo</td>
                            </tr>
                            <tr>
                                <td><strong>Independencia</strong></td>
                                <td>Ensayos independientes</td>
                                <td>Eventos independientes</td>
                                <td>Ensayos dependientes</td>
                            </tr>
                            <tr>
                                <td><strong>Probabilidad</strong></td>
                                <td>Constante (p)</td>
                                <td>Tasa constante (λ)</td>
                                <td>Variable</td>
                            </tr>
                            <tr>
                                <td><strong>Muestreo</strong></td>
                                <td>Con reemplazo</td>
                                <td>No aplica</td>
                                <td>Sin reemplazo</td>
                            </tr>
                            <tr>
                                <td><strong>Tamaño Población</strong></td>
                                <td>Infinita o muy grande</td>
                                <td>No aplica</td>
                                <td>Finita</td>
                            </tr>
                            <tr>
                                <td><strong>Parámetros</strong></td>
                                <td>n, p</td>
                                <td>λ</td>
                                <td>N, K, n</td>
                            </tr>
                            <tr>
                                <td><strong>Aplicación Principal</strong></td>
                                <td>Calidad, encuestas</td>
                                <td>Eventos raros</td>
                                <td>Poblaciones pequeñas</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>🔑 Diferencias Clave</h3>
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <strong>Binomial vs Poisson</strong>
                        Binomial: n fijo. Poisson: eventos en tiempo/espacio
                    </div>
                    <div class="caracteristica-item">
                        <strong>Binomial vs Hipergeométrica</strong>
                        Binomial: con reemplazo. Hipergeométrica: sin reemplazo
                    </div>
                    <div class="caracteristica-item">
                        <strong>Poisson vs Hipergeométrica</strong>
                        Poisson: eventos raros. Hipergeométrica: población finita
                    </div>
                </div>
            </div>

            <div class="bibliografia">
                <h3>📚 Referencias Bibliográficas</h3>
                <ul>
                    <li>
                        <strong>Distribuciones Discretas - Hipergeométricas, Binomiales y Poisson</strong><br>
                        LibreTexts Español (2022, octubre 30).<br>
                        <a href="https://espanol.libretexts.org/Bookshelves/Ingenieria/Ingenieria_Industrial_y_de_Sistemas/Libro%3A_Din%C3%A1mica_y_Controles_de_Procesos_Qu%C3%ADmicos_(Woolf)/13%3A_Estad%C3%ADsticas_y_antecedentes_probabil%C3%ADsticos/13.09%3A_Distribuciones_Discretas_-_Hipergeom%C3%A9tricas%2C_Binomiales_y_Poisson" target="_blank" style="color: #667eea; text-decoration: none;">🔗 Ver fuente</a>
                    </li>
                    <li>
                        <strong>Distribución hipergeométrica</strong><br>
                        Minitab (2020).<br>
                        <a href="https://support.minitab.com/es-mx/minitab/help-and-how-to/probability-distributions-random-data-and-resampling-analyses/supporting-topics/distributions/hypergeometric-distribution/" target="_blank" style="color: #667eea; text-decoration: none;">🔗 Ver fuente</a>
                    </li>
                    <li>
                        <strong>Distribución de Poisson: Predice la frecuencia de los sucesos</strong><br>
                        Rodó, P. (2020, noviembre 4). Economipedia.<br>
                        <a href="https://economipedia.com/definiciones/distribucion-de-poisson.html" target="_blank" style="color: #667eea; text-decoration: none;">🔗 Ver fuente</a>
                    </li>
                    <li>
                        <strong>Distribución binomial - Qué es, propiedades y ejemplos</strong><br>
                        Sanjuán, F. J. M. (2025, mayo 26). Economipedia.<br>
                        <a href="https://economipedia.com/definiciones/distribucion-binomial.html" target="_blank" style="color: #667eea; text-decoration: none;">🔗 Ver fuente</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Navegación entre tabs
        function showTab(tabName) {
            const sections = document.querySelectorAll('.content-section');
            const buttons = document.querySelectorAll('.tab-btn');
            
            sections.forEach(section => section.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Funciones matemáticas
        function factorial(n) {
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        function combinacion(n, k) {
            if (k > n) return 0;
            return factorial(n) / (factorial(k) * factorial(n - k));
        }

        // Calculadora Binomial
        function calcularBinomial() {
            const n = parseInt(document.getElementById('bin_n').value);
            const k = parseInt(document.getElementById('bin_k').value);
            const p = parseFloat(document.getElementById('bin_p').value);
            
            const combinaciones = combinacion(n, k);
            const pk = Math.pow(p, k);
            const p_complemento = Math.pow(1 - p, n - k);
            const resultado = combinaciones * pk * p_complemento;
            
            const media = n * p;
            const varianza = n * p * (1 - p);
            
            const resultadoDiv = document.getElementById('resultado_binomial');
            resultadoDiv.innerHTML = `
                <h3 style="color: #667eea;">📊 Resolución Paso a Paso</h3>
                
                <div class="resolucion-paso">
                    <strong>Paso 1: Identificar los valores</strong><br>
                    • n = ${n} (número de tornillos inspeccionados)<br>
                    • k = ${k} (tornillos defectuosos que buscamos)<br>
                    • p = ${p} (probabilidad de que un tornillo sea defectuoso)<br>
                    • q = 1-p = ${(1-p).toFixed(2)} (probabilidad de que NO sea defectuoso)
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 2: Aplicar la fórmula Binomial</strong><br>
                    P(X = ${k}) = C(${n},${k}) × (${p})^${k} × (${(1-p).toFixed(2)})^${n-k}
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 3: Calcular combinaciones</strong><br>
                    C(${n},${k}) = ${n}! / (${k}! × ${n-k}!) = ${combinaciones.toFixed(0)}
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 4: Calcular potencias</strong><br>
                    • (${p})^${k} = ${pk.toFixed(6)}<br>
                    • (${(1-p).toFixed(2)})^${n-k} = ${p_complemento.toFixed(6)}
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 5: Multiplicar todos los valores</strong><br>
                    P(X = ${k}) = ${combinaciones.toFixed(0)} × ${pk.toFixed(6)} × ${p_complemento.toFixed(6)}<br>
                    <strong style="color: #667eea; font-size: 1.2em;">P(X = ${k}) = ${resultado.toFixed(6)} = ${(resultado * 100).toFixed(2)}%</strong>
                </div>

                <div class="interpretacion">
                    <strong>📝 Interpretación:</strong><br>
                    Hay una probabilidad del ${(resultado * 100).toFixed(2)}% de encontrar exactamente ${k} tornillos defectuosos al inspeccionar ${n} tornillos, cuando la tasa de defectos es del ${(p*100)}%. Esto significa que de cada 100 inspecciones similares, aproximadamente ${(resultado * 100).toFixed(0)} veces encontraremos exactamente ${k} defectuosos.
                </div>

                <hr style="margin: 20px 0;">
                <div style="background: #f0f8ff; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #667eea;">📈 Medidas de Tendencia</h4>
                    <p><strong>Media (μ):</strong> ${media.toFixed(2)} tornillos defectuosos esperados</p>
                    <p><strong>Varianza (σ²):</strong> ${varianza.toFixed(4)}</p>
                    <p><strong>Desviación Estándar (σ):</strong> ${Math.sqrt(varianza).toFixed(4)}</p>
                </div>
            `;
            resultadoDiv.classList.add('show');
        }

        // Calculadora Poisson
        function calcularPoisson() {
            const lambda = parseFloat(document.getElementById('poi_lambda').value);
            const k = parseInt(document.getElementById('poi_k').value);
            
            const lambda_k = Math.pow(lambda, k);
            const e_negLambda = Math.exp(-lambda);
            const k_factorial = factorial(k);
            const resultado = (lambda_k * e_negLambda) / k_factorial;
            
            const resultadoDiv = document.getElementById('resultado_poisson');
            resultadoDiv.innerHTML = `
                <h3 style="color: #667eea;">📊 Resolución Paso a Paso</h3>
                
                <div class="resolucion-paso">
                    <strong>Paso 1: Identificar los valores</strong><br>
                    • λ = ${lambda} (tasa promedio de llamadas por minuto)<br>
                    • k = ${k} (número de llamadas que buscamos)<br>
                    • e ≈ 2.71828 (constante de Euler)
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 2: Aplicar la fórmula de Poisson</strong><br>
                    P(X = ${k}) = (λ^k × e^(-λ)) / k!<br>
                    P(X = ${k}) = (${lambda}^${k} × e^(-${lambda})) / ${k}!
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 3: Calcular componentes</strong><br>
                    • λ^k = ${lambda}^${k} = ${lambda_k.toFixed(6)}<br>
                    • e^(-λ) = e^(-${lambda}) = ${e_negLambda.toFixed(6)}<br>
                    • k! = ${k}! = ${k_factorial}
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 4: Realizar la operación final</strong><br>
                    P(X = ${k}) = (${lambda_k.toFixed(6)} × ${e_negLambda.toFixed(6)}) / ${k_factorial}<br>
                    P(X = ${k}) = ${(lambda_k * e_negLambda).toFixed(6)} / ${k_factorial}<br>
                    <strong style="color: #667eea; font-size: 1.2em;">P(X = ${k}) = ${resultado.toFixed(6)} = ${(resultado * 100).toFixed(2)}%</strong>
                </div>

                <div class="interpretacion">
                    <strong>📝 Interpretación:</strong><br>
                    Existe una probabilidad del ${(resultado * 100).toFixed(2)}% de recibir exactamente ${k} llamadas en un minuto, cuando el promedio es de ${lambda} llamadas por minuto. En otras palabras, si observamos muchos intervalos de 1 minuto, aproximadamente el ${(resultado * 100).toFixed(2)}% de ellos tendrán exactamente ${k} llamadas.
                </div>

                <hr style="margin: 20px 0;">
                <div style="background: #f0f8ff; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #667eea;">📈 Medidas de Tendencia</h4>
                    <p><strong>Media (μ):</strong> ${lambda.toFixed(2)} llamadas</p>
                    <p><strong>Varianza (σ²):</strong> ${lambda.toFixed(2)}</p>
                    <p><strong>Desviación Estándar (σ):</strong> ${Math.sqrt(lambda).toFixed(4)}</p>
                    <p><em>Nota: En Poisson, μ = σ² = λ</em></p>
                </div>
            `;
            resultadoDiv.classList.add('show');
        }

        // Calculadora Hipergeométrica
        function calcularHipergeometrica() {
            const N = parseInt(document.getElementById('hip_N').value);
            const K = parseInt(document.getElementById('hip_K').value);
            const n = parseInt(document.getElementById('hip_n').value);
            const k = parseInt(document.getElementById('hip_k').value);
            
            const comb1 = combinacion(K, k);
            const comb2 = combinacion(N - K, n - k);
            const comb3 = combinacion(N, n);
            const numerador = comb1 * comb2;
            const resultado = numerador / comb3;
            
            const media = n * (K / N);
            const varianza = n * (K / N) * (1 - K / N) * ((N - n) / (N - 1));
            
            const resultadoDiv = document.getElementById('resultado_hipergeometrica');
            resultadoDiv.innerHTML = `
                <h3 style="color: #667eea;">📊 Resolución Paso a Paso</h3>
                
                <div class="resolucion-paso">
                    <strong>Paso 1: Identificar los valores</strong><br>
                    • N = ${N} (total de bolas en la caja)<br>
                    • K = ${K} (bolas rojas en la población)<br>
                    • n = ${n} (bolas que se extraen)<br>
                    • k = ${k} (bolas rojas que buscamos en la muestra)
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 2: Aplicar la fórmula Hipergeométrica</strong><br>
                    P(X = ${k}) = [C(K,k) × C(N-K,n-k)] / C(N,n)<br>
                    P(X = ${k}) = [C(${K},${k}) × C(${N-K},${n-k})] / C(${N},${n})
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 3: Calcular combinaciones</strong><br>
                    • C(${K},${k}) = ${comb1.toFixed(0)} (formas de elegir ${k} rojas de ${K})<br>
                    • C(${N-K},${n-k}) = ${comb2.toFixed(0)} (formas de elegir ${n-k} azules de ${N-K})<br>
                    • C(${N},${n}) = ${comb3.toFixed(0)} (formas totales de elegir ${n} bolas de ${N})
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 4: Calcular numerador</strong><br>
                    Numerador = ${comb1.toFixed(0)} × ${comb2.toFixed(0)} = ${numerador.toFixed(0)}
                </div>

                <div class="resolucion-paso">
                    <strong>Paso 5: División final</strong><br>
                    P(X = ${k}) = ${numerador.toFixed(0)} / ${comb3.toFixed(0)}<br>
                    <strong style="color: #667eea; font-size: 1.2em;">P(X = ${k}) = ${resultado.toFixed(6)} = ${(resultado * 100).toFixed(2)}%</strong>
                </div>

                <div class="interpretacion">
                    <strong>📝 Interpretación:</strong><br>
                    Al extraer ${n} bolas sin reemplazo de una caja con ${K} rojas y ${N-K} azules (total ${N}), hay una probabilidad del ${(resultado * 100).toFixed(2)}% de obtener exactamente ${k} bolas rojas. Esto significa que si repetimos este experimento muchas veces, aproximadamente ${(resultado * 100).toFixed(0)} de cada 100 veces obtendremos exactamente ${k} bolas rojas.
                </div>

                <hr style="margin: 20px 0;">
                <div style="background: #f0f8ff; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #667eea;">📈 Medidas de Tendencia</h4>
                    <p><strong>Media (μ):</strong> ${media.toFixed(2)} bolas rojas esperadas</p>
                    <p><strong>Varianza (σ²):</strong> ${varianza.toFixed(4)}</p>
                    <p><strong>Desviación Estándar (σ):</strong> ${Math.sqrt(varianza).toFixed(4)}</p>
                </div>
            `;
            resultadoDiv.classList.add('show');
        }

        // Quiz
        const preguntasQuiz = [
            {
                pregunta: "Una moneda se lanza 10 veces. ¿Qué distribución modela la probabilidad de obtener exactamente 6 caras?",
                opciones: [
                    "Distribución Binomial",
                    "Distribución de Poisson",
                    "Distribución Hipergeométrica",
                    "Distribución Normal"
                ],
                correcta: 0,
                justificacion: "Es Binomial porque hay ensayos independientes (10 lanzamientos), dos resultados posibles (cara/cruz), y probabilidad constante (0.5) en cada lanzamiento."
            },
            {
                pregunta: "Un hospital registra en promedio 4 nacimientos por día. ¿Qué distribución se usa para calcular la probabilidad de 6 nacimientos en un día?",
                opciones: [
                    "Distribución Hipergeométrica",
                    "Distribución Binomial",
                    "Distribución de Poisson",
                    "Ninguna de las anteriores"
                ],
                correcta: 2,
                justificacion: "Es Poisson porque modela eventos raros en un intervalo fijo (1 día) con una tasa promedio conocida (λ = 4 nacimientos/día)."
            },
            {
                pregunta: "De un lote de 30 productos (5 defectuosos), se seleccionan 8 sin reemplazo. ¿Qué distribución calcula la probabilidad de encontrar 2 defectuosos?",
                opciones: [
                    "Distribución Binomial",
                    "Distribución de Poisson",
                    "Distribución Hipergeométrica",
                    "Distribución Uniforme"
                ],
                correcta: 2,
                justificacion: "Es Hipergeométrica porque el muestreo es sin reemplazo de una población finita (30 productos) con dos categorías distintas."
            },
            {
                pregunta: "¿Cuál es la principal diferencia entre Binomial e Hipergeométrica?",
                opciones: [
                    "El número de ensayos",
                    "El tipo de muestreo (con o sin reemplazo)",
                    "La probabilidad de éxito",
                    "El número de parámetros"
                ],
                correcta: 1,
                justificacion: "La diferencia clave es el muestreo: Binomial usa muestreo CON reemplazo (probabilidad constante), mientras que Hipergeométrica usa muestreo SIN reemplazo (probabilidad variable)."
            },
            {
                pregunta: "En la distribución de Poisson, ¿qué relación existe entre la media y la varianza?",
                opciones: [
                    "La varianza es el doble de la media",
                    "Son iguales (μ = σ²)",
                    "La media es mayor que la varianza",
                    "No tienen relación"
                ],
                correcta: 1,
                justificacion: "En Poisson, una característica única es que la media y la varianza son iguales: μ = σ² = λ. Esta propiedad es exclusiva de esta distribución."
            }
        ];

        const ejemplosPracticos = [
            {
                titulo: "Ejemplo 1: Examen de Opción Múltiple",
                enunciado: "Un estudiante responde al azar 15 preguntas de verdadero/falso. Calcule la probabilidad de acertar exactamente 10 preguntas.",
                tipo: "Binomial",
                datos: "n=15, k=10, p=0.5",
                resolucion: `
                    <strong>Paso 1:</strong> Identificar parámetros<br>
                    n = 15, k = 10, p = 0.5, q = 0.5<br><br>
                    <strong>Paso 2:</strong> Calcular C(15,10)<br>
                    C(15,10) = 15!/(10!×5!) = 3003<br><br>
                    <strong>Paso 3:</strong> Aplicar fórmula<br>
                    P(X=10) = 3003 × (0.5)^10 × (0.5)^5<br>
                    P(X=10) = 3003 × 0.000977 × 0.03125<br>
                    <strong>P(X=10) = 0.0916 = 9.16%</strong>
                `,
                interpretacion: "El estudiante tiene un 9.16% de probabilidad de acertar exactamente 10 de 15 preguntas respondiendo al azar. Esto es relativamente bajo, lo que indica que acertar 10 o más preguntas al azar es poco probable."
            },
            {
                titulo: "Ejemplo 2: Ventas de Seguros",
                enunciado: "Un agente de seguros tiene 30% de probabilidad de cerrar una venta en cada visita. Si hace 12 visitas, ¿cuál es la probabilidad de cerrar exactamente 5 ventas?",
                tipo: "Binomial",
                datos: "n=12, k=5, p=0.3",
                resolucion: `
                    <strong>Paso 1:</strong> Identificar parámetros<br>
                    n = 12, k = 5, p = 0.3, q = 0.7<br><br>
                    <strong>Paso 2:</strong> Calcular C(12,5)<br>
                    C(12,5) = 12!/(5!×7!) = 792<br><br>
                    <strong>Paso 3:</strong> Aplicar fórmula<br>
                    P(X=5) = 792 × (0.3)^5 × (0.7)^7<br>
                    P(X=5) = 792 × 0.00243 × 0.0824<br>
                    <strong>P(X=5) = 0.158 = 15.8%</strong>
                `,
                interpretacion: "Hay un 15.8% de probabilidad de cerrar exactamente 5 ventas en 12 visitas. El agente puede esperar cerrar alrededor de 3.6 ventas en promedio (μ = 12 × 0.3)."
            },
            {
                titulo: "Ejemplo 3: Errores en Página Web",
                enunciado: "Una página web registra en promedio 2.5 errores por hora. ¿Cuál es la probabilidad de encontrar exactamente 4 errores en una hora?",
                tipo: "Poisson",
                datos: "λ=2.5, k=4",
                resolucion: `
                    <strong>Paso 1:</strong> Identificar parámetros<br>
                    λ = 2.5, k = 4<br><br>
                    <strong>Paso 2:</strong> Calcular componentes<br>
                    λ^k = 2.5^4 = 39.0625<br>
                    e^(-λ) = e^(-2.5) = 0.0821<br>
                    k! = 4! = 24<br><br>
                    <strong>Paso 3:</strong> Aplicar fórmula<br>
                    P(X=4) = (39.0625 × 0.0821) / 24<br>
                    P(X=4) = 3.208 / 24<br>
                    <strong>P(X=4) = 0.134 = 13.4%</strong>
                `,
                interpretacion: "Existe un 13.4% de probabilidad de encontrar exactamente 4 errores en una hora cuando el promedio es 2.5. Aunque es más que el promedio, sigue siendo un evento razonablemente probable."
            },
            {
                titulo: "Ejemplo 4: Accidentes de Tráfico",
                enunciado: "En una intersección ocurren en promedio 1.8 accidentes por mes. Calcule la probabilidad de que ocurran exactamente 3 accidentes en un mes.",
                tipo: "Poisson",
                datos: "λ=1.8, k=3",
                resolucion: `
                    <strong>Paso 1:</strong> Identificar parámetros<br>
                    λ = 1.8, k = 3<br><br>
                    <strong>Paso 2:</strong> Calcular componentes<br>
                    λ^k = 1.8^3 = 5.832<br>
                    e^(-λ) = e^(-1.8) = 0.1653<br>
                    k! = 3! = 6<br><br>
                    <strong>Paso 3:</strong> Aplicar fórmula<br>
                    P(X=3) = (5.832 × 0.1653) / 6<br>
                    P(X=3) = 0.964 / 6<br>
                    <strong>P(X=3) = 0.161 = 16.1%</strong>
                `,
                interpretacion: "Hay un 16.1% de probabilidad de que ocurran exactamente 3 accidentes en un mes. Esto es superior al promedio de 1.8, pero sigue siendo un evento con probabilidad considerable."
            },
            {
                titulo: "Ejemplo 5: Comité de Selección",
                enunciado: "De 25 candidatos (15 mujeres y 10 hombres), se seleccionan 6 para un comité. ¿Cuál es la probabilidad de que exactamente 4 sean mujeres?",
                tipo: "Hipergeométrica",
                datos: "N=25, K=15, n=6, k=4",
                resolucion: `
                    <strong>Paso 1:</strong> Identificar parámetros<br>
                    N = 25 (total), K = 15 (mujeres), n = 6 (seleccionados), k = 4 (mujeres deseadas)<br><br>
                    <strong>Paso 2:</strong> Calcular combinaciones<br>
                    C(15,4) = 1365<br>
                    C(10,2) = 45<br>
                    C(25,6) = 177100<br><br>
                    <strong>Paso 3:</strong> Aplicar fórmula<br>
                    P(X=4) = (1365 × 45) / 177100<br>
                    P(X=4) = 61425 / 177100<br>
                    <strong>P(X=4) = 0.347 = 34.7%</strong>
                `,
                interpretacion: "Existe un 34.7% de probabilidad de seleccionar exactamente 4 mujeres en un comité de 6 personas. Esta es la combinación más probable dado que las mujeres representan el 60% de los candidatos (15/25)."
            }
        ];

        let preguntaActual = 0;
        let respuestasCorrectas = 0;
        let respuestaSeleccionada = null;

        function inicializarQuiz() {
            const quizDiv = document.getElementById('quiz-questions');
            quizDiv.innerHTML = '';
            
            preguntasQuiz.forEach((pregunta, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';
                if (index === 0) questionDiv.classList.add('active');
                
                let optionsHTML = '';
                pregunta.opciones.forEach((opcion, i) => {
                    optionsHTML += `
                        <div class="quiz-option" onclick="seleccionarOpcion(${index}, ${i})">
                            ${String.fromCharCode(65 + i)}. ${opcion}
                        </div>
                    `;
                });
                
                questionDiv.innerHTML = `
                    <h3>Pregunta ${index + 1}</h3>
                    <p style="font-size: 1.1em; margin: 20px 0;">${pregunta.pregunta}</p>
                    <div class="quiz-options" data-question="${index}">
                        ${optionsHTML}
                    </div>
                    <div class="justificacion" id="justificacion-${index}">
                        <strong>✅ Respuesta Correcta: ${String.fromCharCode(65 + pregunta.correcta)}</strong><br><br>
                        <strong>Justificación:</strong><br>
                        ${pregunta.justificacion}
                    </div>
                `;
                
                quizDiv.appendChild(questionDiv);
            });

            // Inicializar ejemplos
            const ejemplosDiv = document.getElementById('ejemplos-practicos');
            ejemplosDiv.innerHTML = '';
            
            ejemplosPracticos.forEach((ejemplo, index) => {
                const ejemploDiv = document.createElement('div');
                ejemploDiv.className = 'ejemplo-interactivo';
                ejemploDiv.innerHTML = `
                    <span class="tipo-distribucion">${ejemplo.tipo === 'Binomial' ? '🎲' : ejemplo.tipo === 'Poisson' ? '⏰' : '🎯'} ${ejemplo.tipo}</span>
                    <h4>${ejemplo.titulo}</h4>
                    <p style="margin: 10px 0;"><strong>Enunciado:</strong> ${ejemplo.enunciado}</p>
                    <p style="background: #f0f8ff; padding: 10px; border-radius: 5px; margin: 10px 0;"><strong>Datos:</strong> ${ejemplo.datos}</p>
                    
                    <details style="margin-top: 15px;">
                        <summary style="cursor: pointer; font-weight: bold; color: #667eea; padding: 10px; background: #f5f5f5; border-radius: 5px;">🔍 Ver Resolución Completa</summary>
                        <div style="margin-top: 15px;">
                            <div class="resolucion-paso">
                                <strong>📐 Resolución:</strong><br><br>
                                ${ejemplo.resolucion}
                            </div>
                            <div class="interpretacion">
                                <strong>📝 Interpretación:</strong><br>
                                ${ejemplo.interpretacion}
                            </div>
                        </div>
                    </details>
                `;
                ejemplosDiv.appendChild(ejemploDiv);
            });
        }

        function seleccionarOpcion(preguntaIndex, opcionIndex) {
            if (preguntaIndex !== preguntaActual) return;
            
            const opciones = document.querySelectorAll(`[data-question="${preguntaIndex}"] .quiz-option`);
            opciones.forEach(op => op.classList.remove('selected'));
            opciones[opcionIndex].classList.add('selected');
            
            respuestaSeleccionada = opcionIndex;
            document.getElementById('btn-verificar').disabled = false;
        }

        function verificarRespuesta() {
            if (respuestaSeleccionada === null) return;
            
            const pregunta = preguntasQuiz[preguntaActual];
            const opciones = document.querySelectorAll(`[data-question="${preguntaActual}"] .quiz-option`);
            
            opciones.forEach((opcion, index) => {
                if (index === pregunta.correcta) {
                    opcion.classList.add('correct');
                } else if (index === respuestaSeleccionada && respuestaSeleccionada !== pregunta.correcta) {
                    opcion.classList.add('incorrect');
                }
                opcion.style.pointerEvents = 'none';
            });
            
            if (respuestaSeleccionada === pregunta.correcta) {
                respuestasCorrectas++;
            }
            
            document.getElementById(`justificacion-${preguntaActual}`).classList.add('show');
            document.getElementById('btn-verificar').style.display = 'none';
            document.getElementById('btn-siguiente').style.display = 'block';
        }

        function siguientePregunta() {
            document.querySelectorAll('.quiz-question')[preguntaActual].classList.remove('active');
            
            preguntaActual++;
            respuestaSeleccionada = null;
            
            if (preguntaActual < preguntasQuiz.length) {
                document.querySelectorAll('.quiz-question')[preguntaActual].classList.add('active');
                document.getElementById('quiz-progress').textContent = `Pregunta ${preguntaActual + 1} de ${preguntasQuiz.length}`;
                document.getElementById('btn-verificar').style.display = 'block';
                document.getElementById('btn-verificar').disabled = true;
                document.getElementById('btn-siguiente').style.display = 'none';
            } else {
                mostrarResultadoFinal();
            }
        }

        function mostrarResultadoFinal() {
            document.getElementById('quiz-progress').style.display = 'none';
            document.getElementById('quiz-questions').style.display = 'none';
            document.querySelector('.quiz-nav').style.display = 'none';
            
            const porcentaje = (respuestasCorrectas / preguntasQuiz.length) * 100;
            let mensaje = '';
            let emoji = '';
            
            if (porcentaje === 100) {
                mensaje = '¡Perfecto! Dominas las distribuciones discretas';
                emoji = '🏆';
            } else if (porcentaje >= 80) {
                mensaje = '¡Excelente! Muy buen conocimiento';
                emoji = '🌟';
            } else if (porcentaje >= 60) {
                mensaje = '¡Bien! Sigue practicando';
                emoji = '👍';
            } else {
                mensaje = 'Sigue estudiando, ¡puedes mejorar!';
                emoji = '📚';
            }
            
            const scoreDiv = document.getElementById('score-final');
            scoreDiv.innerHTML = `
                <h2>${emoji} ${mensaje}</h2>
                <p style="font-size: 1.8em; margin: 20px 0;">
                    <strong>${respuestasCorrectas} de ${preguntasQuiz.length}</strong> respuestas correctas
                </p>
                <p style="font-size: 1.3em;">Puntuación: ${porcentaje.toFixed(0)}%</p>
                <button class="btn-calcular" onclick="reiniciarQuiz()" style="margin-top: 20px;">
                    🔄 Reiniciar Quiz
                </button>
            `;
            scoreDiv.classList.add('show');
        }

        function reiniciarQuiz() {
            preguntaActual = 0;
            respuestasCorrectas = 0;
            respuestaSeleccionada = null;
            
            document.getElementById('quiz-progress').style.display = 'block';
            document.getElementById('quiz-progress').textContent = 'Pregunta 1 de 5';
            document.getElementById('quiz-questions').style.display = 'block';
            document.querySelector('.quiz-nav').style.display = 'flex';
            document.getElementById('score-final').classList.remove('show');
            
            document.querySelectorAll('.justificacion').forEach(j => j.classList.remove('show'));
            document.querySelectorAll('.quiz-option').forEach(op => {
                op.classList.remove('selected', 'correct', 'incorrect');
                op.style.pointerEvents = 'auto';
            });
            
            document.querySelectorAll('.quiz-question').forEach((q, i) => {
                q.classList.remove('active');
                if (i === 0) q.classList.add('active');
            });
            
            document.getElementById('btn-verificar').style.display = 'block';
            document.getElementById('btn-verificar').disabled = true;
            document.getElementById('btn-siguiente').style.display = 'none';
        }

        // Inicializar al cargar
        window.onload = function() {
            inicializarQuiz();
        };
    </script>
</body>
</html>

